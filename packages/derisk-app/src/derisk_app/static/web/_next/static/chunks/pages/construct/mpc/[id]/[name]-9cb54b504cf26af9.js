(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3524],{33231:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/mpc/[id]/[name]",function(){return l(9157)}])},9157:function(e,a,l){"use strict";l.r(a);var s=l(52676),t=l(40330),n=l(16019),i=l(59849),r=l(96353),d=l(27595),o=l(21666),c=l(8005),u=l(99426),m=l(33292),x=l(10901),h=l(5783),v=l(9349),f=l(7806),p=l(63688),g=l(25675),j=l(46068),b=l(25377),w=l(84875),N=l.n(w),y=l(87007),_=l(75271),Z=l(24841);l(45658);let k=[{label:"Tools",value:"Tools"}];a.default=()=>{var e,a,l,w,T;let P=(0,y.useRouter)(),{mode:C}=(0,_.useContext)(t.p),{t:S}=(0,Z.$G)(),[q,L]=(0,_.useState)("Tools"),[O,E]=(0,_.useState)("HTTP"),[M,R]=(0,_.useState)({}),[F,H]=(0,_.useState)(""),[V,z]=(0,_.useState)(""),[I,U]=(0,_.useState)([]),W="dark"===C?u.R:m.K,G=P.query,[J]=h.Z.useForm(),{loading:K,run:X,data:A}=(0,x.Z)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:G.name};return await (0,n.Vx)((0,n.Od)(e))},{manual:!0,onSuccess:e=>{let[,,a]=e;if((null==a?void 0:a.success)&&(v.ZP.success(S("success")),(null==a?void 0:a.data)!==null&&"object"==typeof(null==a?void 0:a.data)))try{z(JSON.stringify(a)||"")}catch(e){console.log(e),z("")}},debounceWait:300}),{loading:B}=(0,x.Z)(async()=>await (0,n.Vx)((0,n.Lz)({name:G.name})),{manual:!1,onSuccess:e=>{let[,a]=e;R(a||{})},debounceWait:300}),{loading:D,run:$}=(0,x.Z)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:G.name};return await (0,n.Vx)((0,n.Jv)(e))},{manual:!1,onSuccess:e=>{let[,,a]=e;(null==a?void 0:a.success)&&U([{name:"list_servers",description:"List all registered MCP servers",param_schema:{}},{name:"fetch_fetch",description:"Fetches a URL from the internet and optionally extracts its contents as markdown.\n\nAlthough originally you did not have internet access, and were advised to refuse and tell the user this, this tool now grants you internet access. Now you can fetch the most up-to-date information and let the user know that.",param_schema:{url:{type:"string",title:"Url",description:"URL to fetch",required:!0},max_length:{type:"integer",title:"Max Length",description:"Maximum number of characters to return.",required:!1,default:5e3},start_index:{type:"integer",title:"Start Index",description:"On return output starting at this character index, useful if a previous fetch was truncated and more context is required.",required:!1},raw:{type:"boolean",title:"Raw",description:"Get the actual HTML content of the requested page, without simplification.",required:!1}}}])},debounceWait:300}),Q=async()=>{let e={};return await J.validateFields().then(a=>{e=a}).catch(()=>{e=!1}),e},Y=async e=>{e!==F&&(H(e),await Q())},ee=async()=>{await $({name:null==G?void 0:G.name})},ea=async()=>{if(!F)return v.ZP.warning(S("please_select_mcp"));let e=await Q();if(!e){v.ZP.error(S("form_required"));return}await X({name:null==G?void 0:G.name,...e})},el=(0,_.useMemo)(()=>{var e;return(null===(e=null==I?void 0:I.find(e=>(null==e?void 0:e.name)===F))||void 0===e?void 0:e.param_schema)||{}},[F]);return(0,s.jsx)(f.Z,{spinning:D||K||B,children:(0,s.jsxs)("div",{className:"page-body p-4 md:p-6 h-[90vh] overflow-auto",children:[(0,s.jsxs)("header",{className:"mb-8 pb-6 border-b",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,s.jsx)("div",{className:"relative h-8 w-8 overflow-hidden rounded-full",children:(null==M?void 0:M.icon)?(0,s.jsx)("img",{decoding:"async","data-nimg":"fill",className:"object-contain",src:null==M?void 0:M.icon,style:{position:"absolute",height:"100%",width:"100%",inset:"0px",color:"transparent"}}):(0,s.jsx)("span",{className:"ant-avatar ant-avatar-circle bg-gradient-to-tr from-[#31afff] to-[#1677ff] cursor-pointer css-dev-only-do-not-override-13e4gqt",children:(0,s.jsx)("span",{className:"ant-avatar-string text-[10px]",children:"derisk"})})}),(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-tight break-words",children:null==M?void 0:M.name})]}),(0,s.jsx)("p",{className:"text-base md:text-lg text-muted-foreground max-w-prose",children:null==M?void 0:M.description})]}),(0,s.jsx)("div",{className:"mb-3 flex flex-nowrap",children:(0,s.jsx)(p.default,{size:"large",addonBefore:(0,s.jsx)(g.default,{placeholder:O,style:{width:150},value:O,options:[{label:"HTTP",value:"HTTP"}],onChange:e=>E(e)}),value:null==M?void 0:M.sse_url,disabled:!0})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 md:gap-8",children:[(0,s.jsx)("div",{className:"md:col-span-3",children:(0,s.jsxs)(j.Z,{dir:"ltr","data-orientation":"horizontal",className:"w-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1 flex-wrap",children:[(0,s.jsx)(o.Z,{value:q,exclusive:!0,onChange:(e,a)=>{if(console.log(e),a===q||!a)return!1;L(a)},"aria-label":"text alignment",className:"p-1 h-12  ",children:null==k?void 0:k.map(e=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(d.Z,{className:"border-0 rounded-[6px] ".concat("light"===C?"text-black":"text-white"),value:null==e?void 0:e.value,children:null==e?void 0:e.label})}))}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(b.ZP,{type:"text",icon:(0,s.jsx)(i.Z,{className:"text-2xl",onClick:ee})})})]}),(0,s.jsx)("div",{className:"ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 mt-6",children:(0,s.jsx)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm overflow-hidden",children:"Tools"===q&&(0,s.jsx)("div",{className:"p-5 pt-6 space-y-8",children:null==I?void 0:I.map((e,a)=>(0,s.jsxs)("div",{onClick:()=>Y(null==e?void 0:e.name),className:"cursor-pointer hover:text-[#0069fe] transition-all",children:[(0,s.jsx)("h2",{className:"text-xl md:text-2xl font-semibold mb-4 ",children:e.name}),(0,s.jsx)("ul",{children:(0,s.jsxs)("li",{className:"flex items-start gap-3 py-1 list-disc",children:[(0,s.jsx)("span",{className:"w-2 h-2 rounded-full  mt-2 shrink-0",style:{backgroundColor:F===(null==e?void 0:e.name)?"#0069fe":"#000000"}}),(0,s.jsx)("span",{className:"text-sm md:text-base",children:null==e?void 0:e.description})]})})]},a))})})})]})}),(0,s.jsxs)("div",{className:"space-y-6 md:col-span-2",children:[(0,s.jsx)(j.Z,{title:(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{className:"flex-1",children:S("parameter_name")}),(0,s.jsx)("div",{className:"flex-1",children:S("parameter_value")})]}),children:(0,s.jsx)("div",{className:"flex",children:(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)(h.Z,{className:"font-[400]",style:{width:"100%"},form:J,children:[null===(e=Object.keys(el||{}))||void 0===e?void 0:e.map((e,a)=>{var l,t,n,i;return(0,s.jsx)(h.Z.Item,{label:null==el?void 0:null===(l=el[e])||void 0===l?void 0:l.title,name:e,className:"w-full",rules:[{required:null==el?void 0:null===(t=el[e])||void 0===t?void 0:t.required,message:"".concat(S("please_enter")).concat(e)}],children:(0,s.jsx)("div",{className:"flex w-full",children:(0,s.jsx)(p.default,{className:"flex-1",placeholder:null==el?void 0:null===(n=el[e])||void 0===n?void 0:n.description,defaultValue:null==el?void 0:null===(i=el[e])||void 0===i?void 0:i.default})})},e+a)}),(0,s.jsx)(h.Z.Item,{children:(0,s.jsx)(b.ZP,{type:"primary",htmlType:"submit",className:"w-full",onClick:ea,children:S("trial_run")})})]})})})}),(0,s.jsx)(j.Z,{title:(0,s.jsxs)("div",{className:"flex justify-between",children:[S("run_results")," ",(0,s.jsx)(b.ZP,{type:"text",icon:(0,s.jsx)(r.Z,{className:"text-[18px]"}),onClick:()=>{navigator.clipboard.writeText(V).then(()=>{v.ZP.success(S("success"))}).catch(e=>v.ZP.error(e))}})]}),children:(null==A?void 0:null===(a=A[3])||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.success)?(0,s.jsx)(c.ZP,{style:{...W,width:"100%",padding:10,overflow:"auto"},className:N()({"bg-[#fafafa]":"light"===C}),value:V,enableClipboard:!1,displayDataTypes:!1,objectSortKeys:!1}):(0,s.jsx)("div",{className:"text-red-500",children:null==A?void 0:null===(w=A[3])||void 0===w?void 0:null===(T=w.data)||void 0===T?void 0:T.err_msg})})]})]})]})})}},45658:function(){}},function(e){e.O(0,[9557,5230,3688,7806,3129,5675,5783,3894,7365,6068,313,9774,2888,179],function(){return e(e.s=33231)}),_N_E=e.O()}]);