(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7333],{57024:function(e,t){"use strict";t.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"}},13743:function(e,t){"use strict";t.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"}},22800:function(e,t){"use strict";t.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"}},92945:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var i=n(29911),l=n(35245),r=n(75271),a=n(50712),o=["type","children"],u=new Set;function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e[t];if("string"==typeof n&&n.length&&!u.has(n)){var i=document.createElement("script");i.setAttribute("src",n),i.setAttribute("data-namespace",n),e.length>t+1&&(i.onload=function(){c(e,t+1)},i.onerror=function(){c(e,t+1)}),u.add(n),document.body.appendChild(i)}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scriptUrl,n=e.extraCommonProps,u=void 0===n?{}:n;t&&"undefined"!=typeof document&&"undefined"!=typeof window&&"function"==typeof document.createElement&&(Array.isArray(t)?c(t.reverse()):c([t]));var s=r.forwardRef(function(e,t){var n=e.type,c=e.children,s=(0,l.Z)(e,o),d=null;return e.type&&(d=r.createElement("use",{xlinkHref:"#".concat(n)})),c&&(d=c),r.createElement(a.Z,(0,i.Z)({},u,s,{ref:t}),d)});return s.displayName="Iconfont",s}},77456:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/app/extra/components/auto-plan/ResourcesCardV2",function(){return n(45466)}])},14425:function(e,t,n){"use strict";var i=n(52676),l=n(32133),r=n(25377),a=n(84875),o=n.n(a),u=n(24841);t.Z=function(e){let{className:t,error:n,description:a,refresh:c}=e,{t:s}=(0,u.$G)();return(0,i.jsx)(l.Z,{image:"/empty.png",imageStyle:{width:320,height:196,margin:"0 auto",maxWidth:"100%",maxHeight:"100%"},className:o()("flex items-center justify-center flex-col h-full w-full",t),description:n?(0,i.jsx)(r.ZP,{type:"primary",onClick:c,children:s("try_again")}):null!=a?a:s("no_data")})}},23794:function(e,t,n){"use strict";var i=n(92945);let l=(0,i.Z)({scriptUrl:"//at.alicdn.com/t/a/font_4440880_ljyggdw605.js"});t.Z=l},45466:function(e,t,n){"use strict";n.r(t);var i=n(52676),l=n(14425),r=n(83500),a=n(42508),o=n(25675),u=n(30191),c=n(24128),s=n(25377),d=n(84875),f=n.n(d),v=n(32699),p=n(75271),m=n(24841),x=n(5185),h=n(26014),g=n(91487);t.default=e=>{var t;let{name:n,updateData:d,resourceTypeOptions:y,initValue:j}=e,{t:Z}=(0,m.$G)(),w=(0,p.useRef)(j||[]),[N,_]=(0,p.useState)({uid:"",icon:""}),b=(0,p.useRef)(""),[C,S]=(0,p.useState)((null==j?void 0:j.map(e=>({...e,icon:e.type,initVal:e})))||[]),[k,E]=(0,p.useState)([...C]),[V,H]=(0,p.useState)((null==C?void 0:null===(t=C[0])||void 0===t?void 0:t.uid)||""),[z,M]=(0,p.useState)(""),P=(e,t)=>{null==e||e.stopPropagation();let i=C.findIndex(e=>e.uid===V),l=null==C?void 0:C.filter(e=>e.uid!==t.uid);w.current=w.current.filter(e=>e.uid!==t.uid)||[];let r=[n,w.current],a=JSON.stringify(r);if(a!==b.current&&(b.current=a,d(r)),S(l),t.uid===V){var o,u;if(i===C.length-1&&0!==i)H((null==l?void 0:null===(o=l[l.length-1])||void 0===o?void 0:o.uid)||"");else{let e=Math.min(i,l.length-1);H((null==l?void 0:null===(u=l[e])||void 0===u?void 0:u.uid)||"")}}};return(0,p.useEffect)(()=>{N.uid&&N.icon&&S(C.map(e=>(null==N?void 0:N.uid)===e.uid?{...e,icon:N.icon,type:N.icon}:e))},[N]),(0,p.useEffect)(()=>{E([...C])},[C]),(0,i.jsxs)("div",{className:"flex flex-1 px-3 py-4 border border-[#d6d8da] rounded-md",style:{minHeight:"450px"},children:[(0,i.jsxs)("div",{className:"flex flex-col w-40 h-full",children:[(0,i.jsx)(o.default,{options:y,className:"w-full h-8",variant:"borderless",defaultValue:"all",onChange:e=>{var t,n;if("all"===e)E(C),H((null==C?void 0:null===(t=C[0])||void 0===t?void 0:t.uid)||"");else{let t=null==C?void 0:C.filter(t=>(null==t?void 0:t.icon)===e);H((null==t?void 0:null===(n=t[0])||void 0===n?void 0:n.uid)||""),E(t)}}}),(0,i.jsx)("div",{className:"flex flex-1 flex-col gap-1 overflow-y-auto",children:null==k?void 0:k.map(e=>(0,i.jsxs)("div",{className:f()("flex h-8 items-center px-3 pl-[0.6rem] rounded-md hover:bg-[#f5faff] hover:dark:bg-[#606264] cursor-pointer relative",{"bg-[#f5faff] dark:bg-[#606264]":e.uid===V}),onClick:()=>{H(e.uid||"")},onMouseEnter:()=>{M(e.uid||"")},onMouseLeave:()=>{M("")},children:[h.resourceTypeIcon[e.icon||""],(0,i.jsx)(u.Z.Text,{className:f()("flex flex-1 items-center text-sm p-0 m-0 mx-2 line-clamp-1",{"text-[#0c75fc]":e.uid===V}),editable:{autoSize:{maxRows:1},onChange:t=>{let i=C.map(n=>n.uid===e.uid?{...n,name:t}:n);S(i),w.current=w.current.map(n=>n.uid===e.uid?{...n,name:t}:n);let l=[n,w.current],r=JSON.stringify(l);r!==b.current&&(b.current=r,d(l))}},ellipsis:{tooltip:!0},children:e.name}),(0,i.jsx)(c.Z,{title:Z("want_delete"),onConfirm:t=>{P(t,e)},onCancel:e=>null==e?void 0:e.stopPropagation(),children:(0,i.jsx)(r.Z,{className:"text-sm cursor-pointer absolute right-2 ".concat(z===e.uid?"opacity-100":"opacity-0"),style:{top:"50%",transform:"translateY(-50%)"},onClick:e=>e.stopPropagation()})})]},e.uid))}),(0,i.jsx)(s.ZP,{className:"w-full h-8",type:"dashed",block:!0,icon:(0,i.jsx)(a.Z,{}),onClick:()=>{var e,t;let i=(0,x.Z)(),l=(null===(e=null==y?void 0:y.filter(e=>"all"!==e.value))||void 0===e?void 0:null===(t=e[0])||void 0===t?void 0:t.value)||"",r={is_dynamic:!1,type:l,value:"",uid:i,name:Z("resource")+" ".concat(w.current.length+1)};w.current=(0,v.concat)(w.current,[r]);let a=[n,w.current],o=JSON.stringify(a);o!==b.current&&(b.current=o,d(a)),S(e=>[...e,{icon:l,type:l,uid:i,initVal:r,name:Z("resource")+" ".concat(e.length+1)}]),H(i),_({uid:i,icon:l})},children:Z("add_resource")})]}),(0,i.jsx)("div",{className:"flex flex-1 ml-6",style:{minHeight:"430px",overflowY:"auto"},children:k&&(null==k?void 0:k.length)>0?(0,i.jsx)("div",{className:"flex flex-1",children:null==k?void 0:k.map(e=>(0,i.jsx)(g.default,{classNames:e.uid===V?"block":"hidden",initValue:e.initVal,resourceType:e.icon||"",resourceTypeOptions:y,setCurIcon:_,updateData:e=>{var t;w.current=null===(t=w.current)||void 0===t?void 0:t.map(t=>(null==t?void 0:t.uid)===(null==e?void 0:e.uid)?{...t,...e}:t);let i=[n,w.current],l=JSON.stringify(i);l!==b.current&&(b.current=l,d(i))},uid:e.uid||""},e.uid))}):(0,i.jsx)(l.Z,{className:"w-40 h-40"})})]})}},26014:function(e,t,n){"use strict";n.r(t),n.d(t,{agentIcon:function(){return j},resourceTypeIcon:function(){return Z}});var i=n(52676),l=n(23794),r=n(69811),a=n(99466),o=n(59718),u=n(4629),c=n(5195),s=n(85042),d=n(25334),f=n(80944),v=n(86607),p=n(79530),m=n(73760),x=n(29916),h=n(99869),g=n(89046),y=n(8194);n(75271);let j={CodeEngineer:(0,i.jsx)(r.Z,{}),Reporter:(0,i.jsx)(a.Z,{}),DataScientist:(0,i.jsx)(o.Z,{}),Summarizer:(0,i.jsx)(u.Z,{}),ToolExpert:(0,i.jsx)(l.Z,{type:"icon-plugin",style:{fontSize:17.25,marginTop:2}}),Indicator:(0,i.jsx)(c.Z,{}),Dbass:(0,i.jsx)(s.Z,{})},Z={all:(0,i.jsx)(d.ProductOutlined,{}),database:(0,i.jsx)(f.Z,{}),knowledge:(0,i.jsx)(v.Z,{}),internet:(0,i.jsx)(p.Z,{}),plugin:(0,i.jsx)(m.Z,{}),text_file:(0,i.jsx)(x.Z,{}),excel_file:(0,i.jsx)(h.Z,{}),image_file:(0,i.jsx)(g.Z,{}),awel_flow:(0,i.jsx)(y.Z,{})};t.default=()=>(0,i.jsx)(i.Fragment,{})}},function(e){e.O(0,[8201,9557,5230,3688,7806,191,5675,5783,7004,5284,3047,1487,9774,2888,179],function(){return e(e.s=77456)}),_N_E=e.O()}]);