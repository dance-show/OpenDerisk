(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9464],{44961:function(e,t,n){"use strict";n.d(t,{_:function(){return D},a:function(){return T}});var r=n(52676),o=n(40330),a=n(48631),l=n(97214),i=n(63165),d=n(25675),s=n(33232),u=n(83241),c=n(49105),f=n(69439),h=n(25377),m=n(32133),g=n(32699),v=n(75271);let p=e=>{if(!e)return;let t=e.getContainer(),n=t.getElementsByTagName("canvas")[0];return n};var x=n(34360),k=n(51022);let b=e=>{let{charts:t,scopeOfCharts:n,ruleConfig:r}=e,o={};if(null==t||t.forEach(e=>{if(e.chartKnowledge.toSpec){let t=e.chartKnowledge.toSpec;e.chartKnowledge.toSpec=(e,n)=>({...t(e,n),dataProps:n})}else e.chartKnowledge.toSpec=(e,t)=>({dataProps:t});o[e.chartType]=e.chartKnowledge}),(null==n?void 0:n.exclude)&&n.exclude.forEach(e=>{Object.keys(o).includes(e)&&delete o[e]}),null==n?void 0:n.include){let e=n.include;Object.keys(o).forEach(t=>{e.includes(t)||delete o[t]})}let a={...n,custom:o},l={...r},i=new x.w({ckbCfg:a,ruleCfg:l});return i},y=e=>{var t;let{data:n,dataMetaMap:r,myChartAdvisor:o}=e,a=r?Object.keys(r).map(e=>({name:e,...r[e]})):null,l=new k.Z(n).info(),i=(0,g.size)(l)>2?null==l?void 0:l.filter(e=>"string"!==e.recommendation&&"date"!==e.recommendation||e.distinct&&e.distinct>1):l,d=null==o?void 0:o.adviseWithLog({data:n,dataProps:a,fields:null==i?void 0:i.map(e=>e.name)});return null!==(t=null==d?void 0:d.advices)&&void 0!==t?t:[]};function j(e,t){return t.every(t=>e.includes(t))}function w(e,t){let n=t.find(t=>t.name===e);return(null==n?void 0:n.recommendation)==="date"?t=>new Date(t[e]):e}function _(e){return e.find(e=>{var t;return e.levelOfMeasurements&&(t=e.levelOfMeasurements,["Time","Ordinal"].some(e=>t.includes(e)))})}function N(e){return e.find(e=>e.levelOfMeasurements&&j(e.levelOfMeasurements,["Nominal"]))}let C=e=>{let{data:t,xField:n}=e,r=(0,g.uniq)(t.map(e=>e[n]));return r.length<=1},S=(e,t,n)=>{let{field4Split:r,field4X:o}=n;if((null==r?void 0:r.name)&&(null==o?void 0:o.name)){let n=e[r.name],a=t.filter(e=>r.name&&e[r.name]===n);return C({data:a,xField:o.name})?5:void 0}return(null==o?void 0:o.name)&&C({data:t,xField:o.name})?5:void 0},Z=e=>{let{data:t,chartType:n,xField:r}=e,o=(0,g.cloneDeep)(t);try{if(n.includes("line")&&(null==r?void 0:r.name)&&"date"===r.recommendation)return o.sort((e,t)=>new Date(e[r.name]).getTime()-new Date(t[r.name]).getTime()),o;n.includes("line")&&(null==r?void 0:r.name)&&["float","integer"].includes(r.recommendation)&&o.sort((e,t)=>e[r.name]-t[r.name])}catch(e){console.error(e)}return o},P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return e.map(e=>{let n={};return Object.keys(e).forEach(r=>{n[r]=e[r]===t?null:e[r]}),n})},M="multi_line_chart",E="multi_measure_line_chart",q=[{chartType:"multi_line_chart",chartKnowledge:{id:M,name:"multi_line_chart",alias:["multi_line_chart"],family:["LineCharts"],def:"multi_line_chart uses lines with segments to show changes in data in a ordinal dimension",purpose:["Comparison","Trend"],coord:["Cartesian2D"],category:["Statistic"],shape:["Lines"],dataPres:[{minQty:1,maxQty:1,fieldConditions:["Time","Ordinal"]},{minQty:1,maxQty:"*",fieldConditions:["Interval"]},{minQty:0,maxQty:1,fieldConditions:["Nominal"]}],channel:["Color","Direction","Position"],recRate:"Recommended",toSpec:(e,t)=>{var n,r;let o=_(t),a=N(t),l=null!==(n=null!=o?o:a)&&void 0!==n?n:t[0],i=t.filter(e=>e.name!==(null==l?void 0:l.name)),d=null!==(r=i.filter(e=>e.levelOfMeasurements&&j(e.levelOfMeasurements,["Interval"])))&&void 0!==r?r:[i[0]],s=i.filter(e=>!d.find(t=>t.name===e.name)).find(e=>e.levelOfMeasurements&&j(e.levelOfMeasurements,["Nominal"]));if(!l||!d)return null;let u={type:"view",autoFit:!0,data:Z({data:e,chartType:M,xField:l}),children:[]};return d.forEach(n=>{let r={type:"line",encode:{x:w(l.name,t),y:n.name,size:t=>S(t,e,{field4Split:s,field4X:l})},legend:{size:!1}};s&&(r.encode.color=s.name),u.children.push(r)}),u}},chineseName:"折线图"},{chartType:"multi_measure_column_chart",chartKnowledge:{id:"multi_measure_column_chart",name:"multi_measure_column_chart",alias:["multi_measure_column_chart"],family:["ColumnCharts"],def:"multi_measure_column_chart uses lines with segments to show changes in data in a ordinal dimension",purpose:["Comparison","Distribution"],coord:["Cartesian2D"],category:["Statistic"],shape:["Lines"],dataPres:[{minQty:1,maxQty:"*",fieldConditions:["Interval"]},{minQty:1,maxQty:1,fieldConditions:["Nominal"]}],channel:["Color","Direction","Position"],recRate:"Recommended",toSpec:(e,t)=>{try{let n=null==t?void 0:t.filter(e=>j(e.levelOfMeasurements,["Interval"])),r=N(t),o=_(t),a=null!=r?r:o;if(!a||!n)return null;let l={type:"view",data:e,children:[]};return null==n||n.forEach(e=>{let t={type:"interval",encode:{x:a.name,y:e.name,color:()=>e.name,series:()=>e.name}};l.children.push(t)}),l}catch(e){return console.log(e),null}}},chineseName:"折线图"},{chartType:"multi_measure_line_chart",chartKnowledge:{id:E,name:"multi_measure_line_chart",alias:["multi_measure_line_chart"],family:["LineCharts"],def:"multi_measure_line_chart uses lines with segments to show changes in data in a ordinal dimension",purpose:["Comparison","Distribution"],coord:["Cartesian2D"],category:["Statistic"],shape:["Lines"],dataPres:[{minQty:1,maxQty:"*",fieldConditions:["Interval"]},{minQty:1,maxQty:1,fieldConditions:["Nominal"]}],channel:["Color","Direction","Position"],recRate:"Recommended",toSpec:(e,t)=>{try{var n,r;let o=null!==(r=null!==(n=N(t))&&void 0!==n?n:_(t))&&void 0!==r?r:t[0],a=null==t?void 0:t.filter(e=>e.name!==(null==o?void 0:o.name)&&j(e.levelOfMeasurements,["Interval"]));if(!o||!a)return null;let l={type:"view",data:Z({data:e,chartType:E,xField:o}),children:[]};return null==a||a.forEach(n=>{let r={type:"line",encode:{x:w(o.name,t),y:n.name,color:()=>n.name,series:()=>n.name,size:t=>S(t,e,{field4X:o})},legend:{size:!1}};l.children.push(r)}),l}catch(e){return console.log(e),null}}},chineseName:"折线图"}],T=e=>"response_line_chart"===e?["multi_line_chart","multi_measure_line_chart"]:"response_bar_chart"===e?["multi_measure_column_chart"]:"response_pie_chart"===e?["pie_chart"]:"response_scatter_chart"===e?["scatter_plot"]:"response_area_chart"===e?["area_chart"]:"response_heatmap_chart"===e?["heatmap"]:[],{Option:O}=d.default,D=e=>{let{data:t,chartType:n,scopeOfCharts:x,ruleConfig:k}=e,j=P(t),{mode:w}=(0,v.useContext)(o.p),[_,N]=(0,v.useState)(),[C,S]=(0,v.useState)([]),[M,E]=(0,v.useState)(),T=(0,v.useRef)();(0,v.useEffect)(()=>{N(b({charts:q,scopeOfCharts:{exclude:["area_chart","stacked_area_chart","percent_stacked_area_chart"]},ruleConfig:k}))},[k,x]);let D=e=>{if(!_)return[];let t=function(e){let{advices:t}=e;return t}({advices:e}),r=(0,g.uniq)((0,g.compact)((0,g.concat)(n,e.map(e=>e.type)))),o=r.map(e=>{let n=t.find(t=>t.type===e);if(n)return n;let r=_.dataAnalyzer.execute({data:j});if("data"in r){var o;let t=_.specGenerator.execute({data:r.data,dataProps:r.dataProps,chartTypeRecommendations:[{chartType:e,score:1}]});if("advices"in t)return null===(o=t.advices)||void 0===o?void 0:o[0]}}).filter(e=>null==e?void 0:e.spec);return o};(0,v.useEffect)(()=>{if(j&&_){var e;let t=y({data:j,myChartAdvisor:_}),n=D(t);S(n),E(null===(e=n[0])||void 0===e?void 0:e.type)}},[JSON.stringify(j),_,n]);let z=(0,v.useMemo)(()=>{if((null==C?void 0:C.length)>0){var e,t,n,o;let a=null!=M?M:C[0].type,l=null!==(t=null===(e=null==C?void 0:C.find(e=>e.type===a))||void 0===e?void 0:e.spec)&&void 0!==t?t:void 0;if(l){if(l.data&&["line_chart","step_line_chart"].includes(a)){let e=null==_?void 0:_.dataAnalyzer.execute({data:j});e&&"dataProps"in e&&(l.data=Z({data:l.data,xField:null===(o=e.dataProps)||void 0===o?void 0:o.find(e=>"date"===e.recommendation),chartType:a}))}return"pie_chart"===a&&(null==l?void 0:null===(n=l.encode)||void 0===n?void 0:n.color)&&(l.tooltip={title:{field:l.encode.color}}),(0,r.jsx)(i.k,{options:{...l,autoFit:!0,theme:w,height:300},ref:T},a)}}},[C,w,M]);return M?(0,r.jsxs)("div",{children:[(0,r.jsxs)(s.Z,{justify:"space-between",className:"mb-2",children:[(0,r.jsx)(u.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)("span",{children:a.Z.t("Advices")}),(0,r.jsx)(d.default,{className:"w-52",value:M,placeholder:"Chart Switcher",onChange:e=>E(e),size:"small",children:null==C?void 0:C.map(e=>{let t=a.Z.t(e.type);return(0,r.jsx)(O,{value:e.type,children:(0,r.jsx)(f.Z,{title:t,placement:"right",children:(0,r.jsx)("div",{children:t})})},e.type)})})]})}),(0,r.jsx)(u.Z,{children:(0,r.jsx)(f.Z,{title:a.Z.t("Download"),children:(0,r.jsx)(h.ZP,{onClick:()=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart",n=document.createElement("a"),r="".concat(t,".png");setTimeout(()=>{let t=function(e){let t=p(e);if(t){let e=t.toDataURL("image/png");return e}}(e);if(t){n.addEventListener("click",()=>{n.download=r,n.href=t});let e=document.createEvent("MouseEvents");e.initEvent("click",!1,!1),n.dispatchEvent(e)}},16)})(T.current,a.Z.t(M)),icon:(0,r.jsx)(l.Z,{}),type:"text"})})})]}),(0,r.jsx)("div",{className:"flex",children:z})]}):(0,r.jsx)(m.Z,{image:m.Z.PRESENTED_IMAGE_SIMPLE,description:"暂无合适的可视化视图"})}},85100:function(e,t,n){"use strict";n.d(t,{_z:function(){return g._},ZP:function(){return v},aG:function(){return g.a}});var r=n(52676),o=n(94519),a=n(63734),l=n(47042),i=n(75271),d=n(40330),s=n(63165);function u(e){let{chart:t}=e,{mode:n}=(0,i.useContext)(d.p);return(0,r.jsx)("div",{className:"flex-1 min-w-0 p-4 bg-white dark:bg-theme-dark-container rounded",children:(0,r.jsxs)("div",{className:"h-full",children:[(0,r.jsx)("div",{className:"mb-2",children:t.chart_name}),(0,r.jsx)("div",{className:"opacity-80 text-sm mb-2",children:t.chart_desc}),(0,r.jsx)("div",{className:"h-[300px]",children:(0,r.jsx)(s.k,{style:{height:"100%"},options:{autoFit:!0,theme:n,type:"interval",data:t.values,encode:{x:"name",y:"value",color:"type"},axis:{x:{labelAutoRotate:!1}}}})})]})})}function c(e){let{chart:t}=e,{mode:n}=(0,i.useContext)(d.p);return(0,r.jsx)("div",{className:"flex-1 min-w-0 p-4 bg-white dark:bg-theme-dark-container rounded",children:(0,r.jsxs)("div",{className:"h-full",children:[(0,r.jsx)("div",{className:"mb-2",children:t.chart_name}),(0,r.jsx)("div",{className:"opacity-80 text-sm mb-2",children:t.chart_desc}),(0,r.jsx)("div",{className:"h-[300px]",children:(0,r.jsx)(s.k,{style:{height:"100%"},options:{autoFit:!0,theme:n,type:"view",data:t.values,children:[{type:"line",encode:{x:"name",y:"value",color:"type",shape:"smooth"}},{type:"area",encode:{x:"name",y:"value",color:"type",shape:"smooth"},legend:!1,style:{fillOpacity:.15}}],axis:{x:{labelAutoRotate:!1}}}})})]})})}var f=n(957),h=n(32699);function m(e){var t,n;let{chart:o}=e,a=(0,h.groupBy)(o.values,"type");return(0,r.jsx)("div",{className:"flex-1 min-w-0 p-4 bg-white dark:bg-theme-dark-container rounded",children:(0,r.jsxs)("div",{className:"h-full",children:[(0,r.jsx)("div",{className:"mb-2",children:o.chart_name}),(0,r.jsx)("div",{className:"opacity-80 text-sm mb-2",children:o.chart_desc}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)(f.Z,{"aria-label":"basic table",stripe:"odd",hoverRow:!0,borderAxis:"bothBetween",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:Object.keys(a).map(e=>(0,r.jsx)("th",{children:e},e))})}),(0,r.jsx)("tbody",{children:null===(t=Object.values(a))||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.map((e,t)=>{var n;return(0,r.jsx)("tr",{children:null===(n=Object.keys(a))||void 0===n?void 0:n.map(e=>{var n;return(0,r.jsx)("td",{children:(null==a?void 0:null===(n=a[e])||void 0===n?void 0:n[t].value)||""},e)})},t)})})]})})]})})}var g=n(44961),v=function(e){let{chartsData:t}=e,n=(0,i.useMemo)(()=>{if(t){let e=[],n=null==t?void 0:t.filter(e=>"IndicatorValue"===e.chart_type);n.length>0&&e.push({charts:n,type:"IndicatorValue"});let r=null==t?void 0:t.filter(e=>"IndicatorValue"!==e.chart_type),o=r.length,a=0;return[[0],[1],[2],[1,2],[1,3],[2,1,2],[2,1,3],[3,1,3],[3,2,3]][o].forEach(t=>{if(t>0){let n=r.slice(a,a+t);a+=t,e.push({charts:n})}}),e}},[t]);return(0,r.jsx)("div",{className:"flex flex-col gap-3",children:null==n?void 0:n.map((e,t)=>(0,r.jsx)("div",{className:"".concat((null==e?void 0:e.type)!=="IndicatorValue"?"flex gap-3":""),children:e.charts.map(e=>"IndicatorValue"===e.chart_type||"IndicatorValue"===e.type?(0,r.jsx)("div",{className:"flex flex-row gap-3",children:e.values.map(e=>(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(o.Z,{sx:{background:"transparent"},children:(0,r.jsxs)(a.Z,{className:"justify-around",children:[(0,r.jsx)(l.ZP,{gutterBottom:!0,component:"div",children:e.name}),(0,r.jsx)(l.ZP,{children:e.value})]})})},e.name))},e.chart_uid):"LineChart"===e.chart_type||"LineChart"===e.type?(0,r.jsx)(c,{chart:e},e.chart_uid):"BarChart"===e.chart_type||"BarChart"===e.type?(0,r.jsx)(u,{chart:e},e.chart_uid):"Table"===e.chart_type||"TableChartData"===e.type?(0,r.jsx)(m,{chart:e},e.chart_uid):void 0)},"chart_row_".concat(t)))})}},69464:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var r=n(52676),o=n(20346),a=n(50712),l=n(10901),i=n(63688),d=n(63769),s=n(69439),u=n(25675),c=n(60128),f=n(25377),h=n(98844),m=n(75271),g=n(85100),v=n(45374),p=n(421),x=function(){return(0,r.jsx)("svg",{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 1024 1024",version:"1.1",children:(0,r.jsx)("path",{d:"M161.05472 919.3472h701.9008a58.71616 58.71616 0 0 0 58.65472-58.65472V180.40832a58.71616 58.71616 0 0 0-58.65472-58.65472H161.09568a58.03008 58.03008 0 0 0-41.4208 17.08032A58.1632 58.1632 0 0 0 102.4 180.30592v680.38656a58.64448 58.64448 0 0 0 58.65472 58.65472z m385.15712-589.568V190.08512h306.95424v660.93056H546.21184V329.7792zM170.83392 190.08512h306.95424v660.93056H170.83392V190.08512z"})})},k=function(){return(0,r.jsx)("svg",{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 1024 1024",version:"1.1",children:(0,r.jsx)("path",{d:"M171.85792 110.9504a58.65472 58.65472 0 0 0-58.65472 58.65472v701.9008a58.7264 58.7264 0 0 0 58.65472 58.65472h680.28416a58.7264 58.7264 0 0 0 58.65472-58.65472V169.64608a57.98912 57.98912 0 0 0-17.08032-41.41056 58.1632 58.1632 0 0 0-41.472-17.27488H171.85792z m670.60736 750.77632H181.53472V554.77248h660.93056v306.95424z m0-375.38816H181.53472V179.38432h660.93056v306.95424z"})})},b=n(38714),y=n(10332),j=n(7753),w=n(37911),_=n(84875),N=n.n(_),C=n(14425);function S(){return(0,r.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",children:[(0,r.jsx)("path",{d:"M512 64c-247.424 0-448 62.72-448 140.032v112c0 77.312 200.576 139.968 448 139.968s448-62.72 448-140.032v-112C960 126.72 759.424 64 512 64z m0 728c-247.424 0-448-62.72-448-140.032v168.064C64 897.28 264.576 960 512 960s448-62.72 448-140.032v-167.936c0 77.312-200.576 139.968-448 139.968z",fill:"#3699FF"}),(0,r.jsx)("path",{d:"M512 540.032c-247.424 0-448-62.72-448-140.032v168c0 77.312 200.576 140.032 448 140.032s448-62.72 448-140.032V400c0 77.312-200.576 140.032-448 140.032z",fill:"#3699FF",opacity:".32"})]})}function Z(){return(0,r.jsx)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",children:(0,r.jsx)("path",{d:"M39.385 204.83h346.571L252.054 976.74l-23.63 39.383h259.929v-31.506L614.379 204.83H771.91S960.951 220.584 984.581 0.038H236.3S94.52-7.84 39.384 204.83",fill:"#1296db"})})}function P(){return(0,r.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",children:[(0,r.jsx)("path",{d:"M149.2 99.7h726.6c27.7 0 50.1 22.4 50.1 50.1V336H99.1V149.8c0-27.6 22.4-50.1 50.1-50.1z",fill:"#1ECD93"}),(0,r.jsx)("path",{d:"M99.1 395h236.2v236.3H99.1zM99.1 690.3h236.2v236.2H149.2c-27.7 0-50.1-22.4-50.1-50.1V690.3zM394.4 395h236.2v236.3H394.4z",fill:"#1ECD93",fillOpacity:".5"}),(0,r.jsx)("path",{d:"M394.4 690.3h236.2v236.3H394.4z",fill:"#A1E6C9","data-spm-anchor-id":"a313x.search_index.0.i13.27343a81CqKUWU"}),(0,r.jsx)("path",{d:"M689.7 395h236.2v236.3H689.7z",fill:"#1ECD93",fillOpacity:".5"}),(0,r.jsx)("path",{d:"M689.7 690.3h236.2v186.1c0 27.7-22.4 50.1-50.1 50.1H689.7V690.3z",fill:"#A1E6C9","data-spm-anchor-id":"a313x.search_index.0.i17.27343a81CqKUWU"})]})}let{Search:M}=i.default;function E(e){let{layout:t="LR",editorValue:n,chartData:o,tableData:a,tables:l,handleChange:i}=e,s=(0,m.useMemo)(()=>o?(0,r.jsx)("div",{className:"flex-1 overflow-auto p-2",style:{flexShrink:0,overflow:"hidden"},children:(0,r.jsx)(g.ZP,{chartsData:[o]})}):null,[o]),{columns:u,dataSource:c}=(0,m.useMemo)(()=>{let{columns:e=[],values:t=[]}=null!=a?a:{},n=e.map(e=>({key:e,dataIndex:e,title:e})),r=t.map(t=>t.reduce((t,n,r)=>(t[e[r]]=n,t),{}));return{columns:n,dataSource:r}},[a]),f=(0,m.useMemo)(()=>{let e={},t=null==l?void 0:l.data,n=null==t?void 0:t.children;return null==n||n.forEach(t=>{e[t.title]=t.children.map(e=>({columnName:e.title,columnType:e.type}))}),{getTableList:async e=>e&&e!==(null==t?void 0:t.title)?[]:(null==n?void 0:n.map(e=>e.title))||[],getTableColumns:async t=>e[t]||[],getSchemaList:async()=>(null==t?void 0:t.title)?[null==t?void 0:t.title]:[]}},[l]);return(0,r.jsxs)("div",{className:N()("flex w-full flex-1 h-full gap-2 overflow-hidden",{"flex-col":"TB"===t,"flex-row":"LR"===t}),children:[(0,r.jsx)("div",{className:"flex-1 flex overflow-hidden rounded",children:(0,r.jsx)(p.Z,{value:(null==n?void 0:n.sql)||"",language:"mysql",onChange:i,thoughts:(null==n?void 0:n.thoughts)||"",session:f})}),(0,r.jsxs)("div",{className:"flex-1 h-full overflow-auto bg-white dark:bg-theme-dark-container rounded p-4",children:[(null==a?void 0:a.values.length)?(0,r.jsx)(d.Z,{bordered:!0,scroll:{x:"auto"},rowKey:u[0].key,columns:u,dataSource:c}):(0,r.jsx)("div",{className:"h-full flex justify-center items-center",children:(0,r.jsx)(C.Z,{})}),s]})]})}var q=function(){var e,t,n,i,d;let[g,p]=(0,m.useState)([]),[_,C]=(0,m.useState)(""),[q,T]=(0,m.useState)(),[O,D]=(0,m.useState)(!0),[z,B]=(0,m.useState)(),[L,R]=(0,m.useState)(),[I,H]=(0,m.useState)(),[V,A]=(0,m.useState)(),[F,U]=(0,m.useState)(),[Q,K]=(0,m.useState)(!1),[G,W]=(0,m.useState)("TB"),$=(0,h.useSearchParams)(),J=null==$?void 0:$.get("id"),Y=null==$?void 0:$.get("scene"),{data:X}=(0,l.Z)(async()=>await (0,o.Tk)("/v1/editor/sql/rounds",{con_uid:J}),{onSuccess:e=>{var t,n;let r=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t[(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.length)-1];r&&T(null==r?void 0:r.round)}}),{run:ee,loading:et}=(0,l.Z)(async()=>{var e,t;let n=null===(e=null==X?void 0:null===(t=X.data)||void 0===t?void 0:t.find(e=>e.round===q))||void 0===e?void 0:e.db_name;return await (0,o.PR)("/api/v1/editor/sql/run",{db_name:n,sql:null==I?void 0:I.sql})},{manual:!0,onSuccess:e=>{var t,n;A({columns:null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.colunms,values:null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.values})}}),{run:en,loading:er}=(0,l.Z)(async()=>{var e,t;let n=null===(e=null==X?void 0:null===(t=X.data)||void 0===t?void 0:t.find(e=>e.round===q))||void 0===e?void 0:e.db_name,r={db_name:n,sql:null==I?void 0:I.sql};return"chat_dashboard"===Y&&(r.chart_type=null==I?void 0:I.showcase),await (0,o.PR)("/api/v1/editor/chart/run",r)},{manual:!0,ready:!!(null==I?void 0:I.sql),onSuccess:e=>{if(null==e?void 0:e.success){var t,n,r,o,a,l,i;A({columns:(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.sql_data)||void 0===n?void 0:n.colunms)||[],values:(null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(o=r.sql_data)||void 0===o?void 0:o.values)||[]}),(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.chart_values)?B({type:null==e?void 0:null===(l=e.data)||void 0===l?void 0:l.chart_type,values:null==e?void 0:null===(i=e.data)||void 0===i?void 0:i.chart_values,title:null==I?void 0:I.title,description:null==I?void 0:I.thoughts}):B(void 0)}}}),{run:eo,loading:ea}=(0,l.Z)(async()=>{var e,t,n,r,a;let l=null===(e=null==X?void 0:null===(t=X.data)||void 0===t?void 0:t.find(e=>e.round===q))||void 0===e?void 0:e.db_name;return await (0,o.PR)("/api/v1/sql/editor/submit",{conv_uid:J,db_name:l,conv_round:q,old_sql:null==L?void 0:L.sql,old_speak:null==L?void 0:L.thoughts,new_sql:null==I?void 0:I.sql,new_speak:(null===(n=null==I?void 0:null===(r=I.thoughts)||void 0===r?void 0:r.match(/^\n--(.*)\n\n$/))||void 0===n?void 0:null===(a=n[1])||void 0===a?void 0:a.trim())||(null==I?void 0:I.thoughts)})},{manual:!0,onSuccess:e=>{(null==e?void 0:e.success)&&ee()}}),{run:el,loading:ei}=(0,l.Z)(async()=>{var e,t,n,r,a,l;let i=null===(e=null==X?void 0:null===(t=X.data)||void 0===t?void 0:t.find(e=>e.round===q))||void 0===e?void 0:e.db_name;return await (0,o.PR)("/api/v1/chart/editor/submit",{conv_uid:J,chart_title:null==I?void 0:I.title,db_name:i,old_sql:null==L?void 0:null===(n=L[null!=F?F:0])||void 0===n?void 0:n.sql,new_chart_type:null==I?void 0:I.showcase,new_sql:null==I?void 0:I.sql,new_comment:(null===(r=null==I?void 0:null===(a=I.thoughts)||void 0===a?void 0:a.match(/^\n--(.*)\n\n$/))||void 0===r?void 0:null===(l=r[1])||void 0===l?void 0:l.trim())||(null==I?void 0:I.thoughts),gmt_create:new Date().getTime()})},{manual:!0,onSuccess:e=>{(null==e?void 0:e.success)&&en()}}),{data:ed}=(0,l.Z)(async()=>{var e,t;let n=null===(e=null==X?void 0:null===(t=X.data)||void 0===t?void 0:t.find(e=>e.round===q))||void 0===e?void 0:e.db_name;return await (0,o.Tk)("/v1/editor/db/tables",{db_name:n,page_index:1,page_size:200})},{ready:!!(null===(e=null==X?void 0:null===(t=X.data)||void 0===t?void 0:t.find(e=>e.round===q))||void 0===e?void 0:e.db_name),refreshDeps:[null===(n=null==X?void 0:null===(i=X.data)||void 0===i?void 0:i.find(e=>e.round===q))||void 0===n?void 0:n.db_name]}),{run:es}=(0,l.Z)(async e=>await (0,o.Tk)("/v1/editor/sql",{con_uid:J,round:e}),{manual:!0,onSuccess:e=>{let t;try{if(Array.isArray(null==e?void 0:e.data))t=null==e?void 0:e.data,U(0);else if("string"==typeof(null==e?void 0:e.data)){let n=JSON.parse(null==e?void 0:e.data);t=n}else t=null==e?void 0:e.data}catch(e){console.log(e)}finally{R(t),Array.isArray(t)?H(null==t?void 0:t[Number(F||0)]):H(t)}}}),eu=(0,m.useMemo)(()=>{let e=(t,n)=>t.map(t=>{let o=t.title,a=o.indexOf(_),l=o.substring(0,a),i=o.slice(a+_.length),d=e=>{switch(e){case"db":return(0,r.jsx)(S,{});case"table":return(0,r.jsx)(P,{});default:return(0,r.jsx)(Z,{})}},u=a>-1?(0,r.jsx)(s.Z,{title:((null==t?void 0:t.comment)||(null==t?void 0:t.title))+((null==t?void 0:t.can_null)==="YES"?"(can null)":"(can't null)"),children:(0,r.jsxs)("div",{className:"flex items-center",children:[d(t.type),"\xa0\xa0\xa0",l,(0,r.jsx)("span",{className:"text-[#1677ff]",children:_}),i,"\xa0",(null==t?void 0:t.type)&&(0,r.jsx)("div",{className:"text-gray-400",children:null==t?void 0:t.type})]})}):(0,r.jsx)(s.Z,{title:((null==t?void 0:t.comment)||(null==t?void 0:t.title))+((null==t?void 0:t.can_null)==="YES"?"(can null)":"(can't null)"),children:(0,r.jsxs)("div",{className:"flex items-center",children:[d(t.type),"\xa0\xa0\xa0",o,"\xa0",(null==t?void 0:t.type)&&(0,r.jsx)("div",{className:"text-gray-400",children:null==t?void 0:t.type})]})});if(t.children){let r=n?String(n)+"_"+t.key:t.key;return{title:o,showTitle:u,key:r,children:e(t.children,r)}}return{title:o,showTitle:u,key:t.key}});return(null==ed?void 0:ed.data)?(p([null==ed?void 0:ed.data.key]),e([null==ed?void 0:ed.data])):[]},[_,ed]),ec=(0,m.useMemo)(()=>{let e=[],t=(n,r)=>{if(n&&!((null==n?void 0:n.length)<=0))for(let o=0;o<n.length;o++){let a=n[o],{key:l,title:i}=a;e.push({key:l,title:i,parentKey:r}),a.children&&t(a.children,l)}};return eu&&t(eu),e},[eu]),ef=(e,t)=>{let n;for(let r=0;r<t.length;r++){let o=t[r];o.children&&(o.children.some(t=>t.key===e)?n=o.key:ef(e,o.children)&&(n=ef(e,o.children)))}return n};function eh(e){let t;if(!e)return{sql:"",thoughts:""};let n=e&&e.match(/(--.*)?\n?([\s\S]*)/),r="";return n&&n.length>=3&&(r=n[1],t=n[2]),{sql:t,thoughts:r}}return(0,m.useEffect)(()=>{q&&es(q)},[es,q]),(0,m.useEffect)(()=>{L&&"chat_dashboard"===Y&&F&&en()},[F,Y,L,en]),(0,m.useEffect)(()=>{L&&"chat_dashboard"!==Y&&ee()},[Y,L,ee]),(0,r.jsxs)("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[(0,r.jsx)(v.Z,{}),(0,r.jsxs)("div",{className:"relative flex flex-1 p-4 pt-0 overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative flex overflow-hidden mr-4",children:[(0,r.jsx)("div",{className:N()("h-full relative transition-[width] overflow-hidden",{"w-0":Q,"w-64":!Q}),children:(0,r.jsxs)("div",{className:"relative w-64 h-full overflow-hidden flex flex-col rounded bg-white dark:bg-theme-dark-container p-4",children:[(0,r.jsx)(u.default,{size:"middle",className:"w-full mb-2",value:q,options:null==X?void 0:null===(d=X.data)||void 0===d?void 0:d.map(e=>({label:e.round_name,value:e.round})),onChange:e=>{T(e)}}),(0,r.jsx)(M,{className:"mb-2",placeholder:"Search",onChange:e=>{let{value:t}=e.target;if(null==ed?void 0:ed.data){if(t){let e=ec.map(e=>e.title.indexOf(t)>-1?ef(e.key,eu):null).filter((e,t,n)=>e&&n.indexOf(e)===t);p(e)}else p([]);C(t),D(!0)}}}),eu&&eu.length>0&&(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,r.jsx)(c.Z,{onExpand:e=>{p(e),D(!1)},expandedKeys:g,autoExpandParent:O,treeData:eu,fieldNames:{title:"showTitle"}})})]})}),(0,r.jsx)("div",{className:"absolute right-0 top-0 translate-x-full h-full flex items-center justify-center opacity-0 hover:opacity-100 group-hover/side:opacity-100 transition-opacity",children:(0,r.jsx)("div",{className:"bg-white w-4 h-10 flex items-center justify-center dark:bg-theme-dark-container rounded-tr rounded-br z-10 text-xs cursor-pointer shadow-[4px_0_10px_rgba(0,0,0,0.06)] text-opacity-80",onClick:()=>{K(!Q)},children:Q?(0,r.jsx)(y.Z,{}):(0,r.jsx)(b.Z,{})})})]}),(0,r.jsxs)("div",{className:"flex flex-col flex-1 max-w-full overflow-hidden",children:[(0,r.jsxs)("div",{className:"mb-2 bg-white dark:bg-theme-dark-container p-2 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(f.ZP,{className:"text-xs rounded-none",size:"small",type:"primary",icon:(0,r.jsx)(j.Z,{}),loading:et||er,onClick:async()=>{"chat_dashboard"===Y?en():ee()},children:"Run"}),(0,r.jsx)(f.ZP,{className:"text-xs rounded-none",type:"primary",size:"small",loading:ea||ei,icon:(0,r.jsx)(w.Z,{}),onClick:async()=>{"chat_dashboard"===Y?await el():await eo()},children:"Save"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(a.Z,{className:N()("flex items-center justify-center w-6 h-6 text-lg rounded",{"bg-theme-primary bg-opacity-10":"TB"===G}),component:k,onClick:()=>{W("TB")}}),(0,r.jsx)(a.Z,{className:N()("flex items-center justify-center w-6 h-6 text-lg rounded",{"bg-theme-primary bg-opacity-10":"LR"===G}),component:x,onClick:()=>{W("LR")}})]})]}),Array.isArray(L)?(0,r.jsxs)("div",{className:"flex flex-col h-full overflow-hidden",children:[(0,r.jsx)("div",{className:"w-full whitespace-nowrap overflow-x-auto bg-white dark:bg-theme-dark-container mb-2 text-[0px]",children:L.map((e,t)=>(0,r.jsx)(s.Z,{className:"inline-block",title:e.title,children:(0,r.jsx)("div",{className:N()("max-w-[240px] px-3 h-10 text-ellipsis overflow-hidden whitespace-nowrap text-sm leading-10 cursor-pointer font-semibold hover:text-theme-primary transition-colors mr-2 last-of-type:mr-0",{"border-b-2 border-solid border-theme-primary text-theme-primary":F===t}),onClick:()=>{U(t),H(null==L?void 0:L[t])},children:e.title})},e.title))}),(0,r.jsx)("div",{className:"flex flex-1 overflow-hidden",children:L.map((e,t)=>(0,r.jsx)("div",{className:N()("w-full overflow-hidden",{hidden:t!==F,"block flex-1":t===F}),children:(0,r.jsx)(E,{layout:G,editorValue:e,handleChange:e=>{let{sql:t,thoughts:n}=eh(e);H(e=>Object.assign({},e,{sql:t,thoughts:n}))},tableData:V,chartData:z})},e.title))})]}):(0,r.jsx)(E,{layout:G,editorValue:L,handleChange:e=>{let{sql:t,thoughts:n}=eh(e);H(e=>Object.assign({},e,{sql:t,thoughts:n}))},tableData:V,chartData:void 0,tables:ed})]})]})]})}},45374:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(52676),o=n(40330),a=n(21667),l=n(65483),i=n(50712),d=n(91959),s=n(89121),u=n(75271);function c(){let{isContract:e,setIsContract:t,scene:n}=(0,u.useContext)(o.p),a=n&&["chat_with_db_execute","chat_dashboard"].includes(n);return a?(0,r.jsxs)(s.ZP.Group,{value:e,defaultValue:!0,buttonStyle:"solid",onChange:()=>{t(!e)},children:[(0,r.jsxs)(s.ZP.Button,{value:!1,children:[(0,r.jsx)(i.Z,{component:l.ig,className:"mr-1"}),"Preview"]}),(0,r.jsxs)(s.ZP.Button,{value:!0,children:[(0,r.jsx)(d.Z,{className:"mr-1"}),"Editor"]})]}):null}n(51083);var f=n(16019),h=n(10901),m=n(25675),g=n(24841),v=function(){let{t:e}=(0,g.$G)(),{agent:t,setAgent:n}=(0,u.useContext)(o.p),{data:a=[]}=(0,h.Z)(async()=>{let[,e]=await (0,f.Vx)((0,f.H4)());return null!=e?e:[]});return(0,r.jsx)(m.default,{className:"w-60",value:t,placeholder:e("Select_Plugins"),options:a.map(e=>({label:e.app_name,value:e.app_code})),allowClear:!0,onChange:e=>{null==n||n(e)}})},p=n(38131),x=n(15543),k=n(3895),b=n(2359),y=n(9349),j=n(69439),w=n(45467),_=n(25377),N=function(e){var t;let{convUid:n,chatMode:a,onComplete:l,...i}=e,[d,s]=(0,u.useState)(!1),[c,h]=y.ZP.useMessage(),[m,g]=(0,u.useState)([]),[v,N]=(0,u.useState)(),{model:C}=(0,u.useContext)(o.p),{temperatureValue:S,maxNewTokensValue:Z}=(0,u.useContext)(x.ChatContentContext),P=async e=>{var t;if(!e){y.ZP.error("Please select the *.(csv|xlsx|xls) file");return}if(!/\.(csv|xlsx|xls)$/.test(null!==(t=e.file.name)&&void 0!==t?t:"")){y.ZP.error("File type must be csv, xlsx or xls");return}g([e.file])},M=async()=>{s(!0);try{let e=new FormData;e.append("doc_file",m[0]),c.open({content:"Uploading ".concat(m[0].name),type:"loading",duration:0});let[t]=await (0,f.Vx)((0,f.qn)({convUid:n,chatMode:a,data:e,model:C,temperatureValue:S,maxNewTokensValue:Z,config:{timeout:36e5,onUploadProgress:e=>{let t=Math.ceil(e.loaded/(e.total||0)*100);N(t)}}}));if(t)return;y.ZP.success("success"),null==l||l()}catch(e){y.ZP.error((null==e?void 0:e.message)||"Upload Error")}finally{s(!1),c.destroy()}};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[h,(0,r.jsx)(j.Z,{placement:"bottom",title:"File cannot be changed after upload",children:(0,r.jsx)(w.default,{disabled:d,className:"mr-1",beforeUpload:()=>!1,fileList:m,name:"file",accept:".csv,.xlsx,.xls",multiple:!1,onChange:P,showUploadList:{showDownloadIcon:!1,showPreviewIcon:!1,showRemoveIcon:!1},itemRender:()=>(0,r.jsx)(r.Fragment,{}),...i,children:(0,r.jsx)(_.ZP,{className:"flex justify-center items-center",type:"primary",disabled:d,icon:(0,r.jsx)(k.Z,{}),children:"Select File"})})}),(0,r.jsx)(_.ZP,{type:"primary",loading:d,className:"flex justify-center items-center",disabled:!m.length,icon:(0,r.jsx)(b.Z,{}),onClick:M,children:d?100===v?"Analysis":"Uploading":"Upload"}),!!m.length&&(0,r.jsxs)("div",{className:"mt-2 text-gray-500 text-sm flex items-center",onClick:()=>g([]),children:[(0,r.jsx)(p.Z,{className:"mr-2"}),(0,r.jsx)("span",{children:null===(t=m[0])||void 0===t?void 0:t.name})]})]})})},C=function(e){let{onComplete:t}=e,{currentDialogue:n,scene:a,chatId:l}=(0,u.useContext)(o.p);return"chat_excel"!==a?null:(0,r.jsx)("div",{className:"max-w-md h-full relative",children:n?(0,r.jsxs)("div",{className:"flex h-8 overflow-hidden rounded",children:[(0,r.jsx)("div",{className:"flex items-center justify-center px-2 bg-gray-600 text-lg",children:(0,r.jsx)(p.Z,{className:"text-white"})}),(0,r.jsx)("div",{className:"flex items-center justify-center px-3 bg-gray-100 text-xs rounded-tr rounded-br dark:text-gray-800 truncate",children:n.select_param})]}):(0,r.jsx)(N,{convUid:l,chatMode:a,onComplete:t})})},S=n(87213),Z=n(51921),P=n(9158),M=function(){let{scene:e,dbParam:t,setDbParam:n}=(0,u.useContext)(o.p),[a,l]=(0,u.useState)([]);(0,P.Z)(async()=>{let[,t]=await (0,f.Vx)((0,f.vD)(e));l(null!=t?t:[])},[e]);let i=(0,u.useMemo)(()=>{var e;return null===(e=a.map)||void 0===e?void 0:e.call(a,e=>({name:e.param,...Z.S$[e.type]}))},[a]);return((0,u.useEffect)(()=>{(null==i?void 0:i.length)&&!t&&n(i[0].name)},[i,n,t]),null==i?void 0:i.length)?(0,r.jsx)(m.default,{value:t,className:"w-36",onChange:e=>{n(e)},children:i.map(e=>(0,r.jsxs)(m.default.Option,{children:[(0,r.jsx)(S.Z,{width:24,height:24,src:e.icon,label:e.label,className:"w-[1.5em] h-[1.5em] mr-1 inline-block mt-[-4px]"}),e.name]},e.name))}):null},E=function(e){let{refreshHistory:t,modelChange:n}=e,{scene:l,refreshDialogList:i}=(0,u.useContext)(o.p);return(0,r.jsxs)("div",{className:"w-full py-2 px-4 md:px-4 flex flex-wrap items-center justify-center gap-1 md:gap-4",children:[(0,r.jsx)(a.Z,{onChange:n}),(0,r.jsx)(M,{}),"chat_excel"===l&&(0,r.jsx)(C,{onComplete:()=>{null==i||i(),null==t||t()}}),"chat_agent"===l&&(0,r.jsx)(v,{}),(0,r.jsx)(c,{})]})}},21667:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r=n(52676),o=n(40330),a=n(22877),l=n(25675),i=n(97858),d=n.n(i),s=n(75271),u=n(24841);let c="/models/huggingface.svg";function f(e,t){var n,o;let{width:l,height:i}=t||{};return e?(0,r.jsx)(d(),{className:"rounded-full border border-gray-200 object-contain bg-white inline-block",width:l||24,height:i||24,src:(null===(n=a.Hf[e])||void 0===n?void 0:n.icon)||c,alt:"llm"},(null===(o=a.Hf[e])||void 0===o?void 0:o.icon)||c):null}t.Z=function(e){let{onChange:t}=e,{t:n}=(0,u.$G)(),{modelList:i,model:d}=(0,s.useContext)(o.p);return!i||i.length<=0?null:(0,r.jsx)(l.default,{value:d,placeholder:n("choose_model"),className:"w-52",onChange:e=>{null==t||t(e)},children:i.map(e=>{var t;return(0,r.jsx)(l.default.Option,{children:(0,r.jsxs)("div",{className:"flex items-center",children:[f(e),(0,r.jsx)("span",{className:"ml-2",children:(null===(t=a.Hf[e])||void 0===t?void 0:t.label)||e})]})},e)})})}},421:function(e,t,n){"use strict";let r;n.d(t,{Z:function(){return m}});var o=n(52676),a=n(40330),l=n(51921),i=n(33967),d=n(4861),s=n(84875),u=n.n(s),c=n(26187),f=n(75271);async function h(){window.obMonaco={getWorkerUrl:e=>{switch(e){case"mysql":return location.origin+"/_next/static/ob-workers/mysql.js";case"obmysql":return location.origin+"/_next/static/ob-workers/obmysql.js";case"oboracle":return location.origin+"/_next/static/ob-workers/oracle.js"}return""}};let e=await n.e(5013).then(n.bind(n,5013)),t=e.default;return r||(r=new t).setup(["mysql"]),r}function m(e){let{className:t,value:n,language:r="mysql",onChange:s,thoughts:c,session:m}=e,g=(0,f.useMemo)(()=>"mysql"!==r?n:c&&c.length>0?(0,l._m)("-- ".concat(c," \n").concat(n)):(0,l._m)(n),[n,c]),v=(0,d.Z)(m),p=(0,f.useContext)(a.p);async function x(e){var t,n;let r=await h();r.setModelOptions((null===(t=e.getModel())||void 0===t?void 0:t.id)||"",function(e,t){let{_modelId:n,delimiter:r}=e;return{delimiter:r,async getTableList(e){var n;return(null==t?void 0:null===(n=t())||void 0===n?void 0:n.getTableList(e))||[]},async getTableColumns(e,n){var r;return(null==t?void 0:null===(r=t())||void 0===r?void 0:r.getTableColumns(e))||[]},async getSchemaList(){var e;return(null==t?void 0:null===(e=t())||void 0===e?void 0:e.getSchemaList())||[]}}}({modelId:(null===(n=e.getModel())||void 0===n?void 0:n.id)||"",delimiter:";"},()=>v.current||null))}return(0,o.jsx)(i.ZP,{className:u()(t),onMount:x,value:g,defaultLanguage:r,onChange:s,theme:(null==p?void 0:p.mode)!=="dark"?"github":"githubDark",options:{minimap:{enabled:!1},wordWrap:"on"}})}i._m.config({monaco:c}),c.editor.defineTheme("github",{base:"vs",inherit:!0,rules:[{background:"ffffff",token:""},{foreground:"6a737d",token:"comment"},{foreground:"6a737d",token:"punctuation.definition.comment"},{foreground:"6a737d",token:"string.comment"},{foreground:"005cc5",token:"constant"},{foreground:"005cc5",token:"entity.name.constant"},{foreground:"005cc5",token:"variable.other.constant"},{foreground:"005cc5",token:"variable.language"},{foreground:"6f42c1",token:"entity"},{foreground:"6f42c1",token:"entity.name"},{foreground:"24292e",token:"variable.parameter.function"},{foreground:"22863a",token:"entity.name.tag"},{foreground:"d73a49",token:"keyword"},{foreground:"d73a49",token:"storage"},{foreground:"d73a49",token:"storage.type"},{foreground:"24292e",token:"storage.modifier.package"},{foreground:"24292e",token:"storage.modifier.import"},{foreground:"24292e",token:"storage.type.java"},{foreground:"032f62",token:"string"},{foreground:"032f62",token:"punctuation.definition.string"},{foreground:"032f62",token:"string punctuation.section.embedded source"},{foreground:"005cc5",token:"support"},{foreground:"005cc5",token:"meta.property-name"},{foreground:"e36209",token:"variable"},{foreground:"24292e",token:"variable.other"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.broken"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.deprecated"},{foreground:"fafbfc",background:"b31d28",fontStyle:"italic underline",token:"invalid.illegal"},{foreground:"fafbfc",background:"d73a49",fontStyle:"italic underline",token:"carriage-return"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.unimplemented"},{foreground:"b31d28",token:"message.error"},{foreground:"24292e",token:"string source"},{foreground:"005cc5",token:"string variable"},{foreground:"032f62",token:"source.regexp"},{foreground:"032f62",token:"string.regexp"},{foreground:"032f62",token:"string.regexp.character-class"},{foreground:"032f62",token:"string.regexp constant.character.escape"},{foreground:"032f62",token:"string.regexp source.ruby.embedded"},{foreground:"032f62",token:"string.regexp string.regexp.arbitrary-repitition"},{foreground:"22863a",fontStyle:"bold",token:"string.regexp constant.character.escape"},{foreground:"005cc5",token:"support.constant"},{foreground:"005cc5",token:"support.variable"},{foreground:"005cc5",token:"meta.module-reference"},{foreground:"735c0f",token:"markup.list"},{foreground:"005cc5",fontStyle:"bold",token:"markup.heading"},{foreground:"005cc5",fontStyle:"bold",token:"markup.heading entity.name"},{foreground:"22863a",token:"markup.quote"},{foreground:"24292e",fontStyle:"italic",token:"markup.italic"},{foreground:"24292e",fontStyle:"bold",token:"markup.bold"},{foreground:"005cc5",token:"markup.raw"},{foreground:"b31d28",background:"ffeef0",token:"markup.deleted"},{foreground:"b31d28",background:"ffeef0",token:"meta.diff.header.from-file"},{foreground:"b31d28",background:"ffeef0",token:"punctuation.definition.deleted"},{foreground:"22863a",background:"f0fff4",token:"markup.inserted"},{foreground:"22863a",background:"f0fff4",token:"meta.diff.header.to-file"},{foreground:"22863a",background:"f0fff4",token:"punctuation.definition.inserted"},{foreground:"e36209",background:"ffebda",token:"markup.changed"},{foreground:"e36209",background:"ffebda",token:"punctuation.definition.changed"},{foreground:"f6f8fa",background:"005cc5",token:"markup.ignored"},{foreground:"f6f8fa",background:"005cc5",token:"markup.untracked"},{foreground:"6f42c1",fontStyle:"bold",token:"meta.diff.range"},{foreground:"005cc5",token:"meta.diff.header"},{foreground:"005cc5",fontStyle:"bold",token:"meta.separator"},{foreground:"005cc5",token:"meta.output"},{foreground:"586069",token:"brackethighlighter.tag"},{foreground:"586069",token:"brackethighlighter.curly"},{foreground:"586069",token:"brackethighlighter.round"},{foreground:"586069",token:"brackethighlighter.square"},{foreground:"586069",token:"brackethighlighter.angle"},{foreground:"586069",token:"brackethighlighter.quote"},{foreground:"b31d28",token:"brackethighlighter.unmatched"},{foreground:"b31d28",token:"sublimelinter.mark.error"},{foreground:"e36209",token:"sublimelinter.mark.warning"},{foreground:"959da5",token:"sublimelinter.gutter-mark"},{foreground:"032f62",fontStyle:"underline",token:"constant.other.reference.link"},{foreground:"032f62",fontStyle:"underline",token:"string.other.link"}],colors:{"editor.foreground":"#24292e","editor.background":"#ffffff","editor.selectionBackground":"#c8c8fa","editor.inactiveSelectionBackground":"#fafbfc","editor.lineHighlightBackground":"#fafbfc","editorCursor.foreground":"#24292e","editorWhitespace.foreground":"#959da5","editorIndentGuide.background":"#959da5","editorIndentGuide.activeBackground":"#24292e","editor.selectionHighlightBorder":"#fafbfc"}}),c.editor.defineTheme("githubDark",{base:"vs-dark",inherit:!0,rules:[{background:"24292e",token:""},{foreground:"959da5",token:"comment"},{foreground:"959da5",token:"punctuation.definition.comment"},{foreground:"959da5",token:"string.comment"},{foreground:"c8e1ff",token:"constant"},{foreground:"c8e1ff",token:"entity.name.constant"},{foreground:"c8e1ff",token:"variable.other.constant"},{foreground:"c8e1ff",token:"variable.language"},{foreground:"b392f0",token:"entity"},{foreground:"b392f0",token:"entity.name"},{foreground:"f6f8fa",token:"variable.parameter.function"},{foreground:"7bcc72",token:"entity.name.tag"},{foreground:"ea4a5a",token:"keyword"},{foreground:"ea4a5a",token:"storage"},{foreground:"ea4a5a",token:"storage.type"},{foreground:"f6f8fa",token:"storage.modifier.package"},{foreground:"f6f8fa",token:"storage.modifier.import"},{foreground:"f6f8fa",token:"storage.type.java"},{foreground:"79b8ff",token:"string"},{foreground:"79b8ff",token:"punctuation.definition.string"},{foreground:"79b8ff",token:"string punctuation.section.embedded source"},{foreground:"c8e1ff",token:"support"},{foreground:"c8e1ff",token:"meta.property-name"},{foreground:"fb8532",token:"variable"},{foreground:"f6f8fa",token:"variable.other"},{foreground:"d73a49",fontStyle:"bold italic underline",token:"invalid.broken"},{foreground:"d73a49",fontStyle:"bold italic underline",token:"invalid.deprecated"},{foreground:"fafbfc",background:"d73a49",fontStyle:"italic underline",token:"invalid.illegal"},{foreground:"fafbfc",background:"d73a49",fontStyle:"italic underline",token:"carriage-return"},{foreground:"d73a49",fontStyle:"bold italic underline",token:"invalid.unimplemented"},{foreground:"d73a49",token:"message.error"},{foreground:"f6f8fa",token:"string source"},{foreground:"c8e1ff",token:"string variable"},{foreground:"79b8ff",token:"source.regexp"},{foreground:"79b8ff",token:"string.regexp"},{foreground:"79b8ff",token:"string.regexp.character-class"},{foreground:"79b8ff",token:"string.regexp constant.character.escape"},{foreground:"79b8ff",token:"string.regexp source.ruby.embedded"},{foreground:"79b8ff",token:"string.regexp string.regexp.arbitrary-repitition"},{foreground:"7bcc72",fontStyle:"bold",token:"string.regexp constant.character.escape"},{foreground:"c8e1ff",token:"support.constant"},{foreground:"c8e1ff",token:"support.variable"},{foreground:"c8e1ff",token:"meta.module-reference"},{foreground:"fb8532",token:"markup.list"},{foreground:"0366d6",fontStyle:"bold",token:"markup.heading"},{foreground:"0366d6",fontStyle:"bold",token:"markup.heading entity.name"},{foreground:"c8e1ff",token:"markup.quote"},{foreground:"f6f8fa",fontStyle:"italic",token:"markup.italic"},{foreground:"f6f8fa",fontStyle:"bold",token:"markup.bold"},{foreground:"c8e1ff",token:"markup.raw"},{foreground:"b31d28",background:"ffeef0",token:"markup.deleted"},{foreground:"b31d28",background:"ffeef0",token:"meta.diff.header.from-file"},{foreground:"b31d28",background:"ffeef0",token:"punctuation.definition.deleted"},{foreground:"176f2c",background:"f0fff4",token:"markup.inserted"},{foreground:"176f2c",background:"f0fff4",token:"meta.diff.header.to-file"},{foreground:"176f2c",background:"f0fff4",token:"punctuation.definition.inserted"},{foreground:"b08800",background:"fffdef",token:"markup.changed"},{foreground:"b08800",background:"fffdef",token:"punctuation.definition.changed"},{foreground:"2f363d",background:"959da5",token:"markup.ignored"},{foreground:"2f363d",background:"959da5",token:"markup.untracked"},{foreground:"b392f0",fontStyle:"bold",token:"meta.diff.range"},{foreground:"c8e1ff",token:"meta.diff.header"},{foreground:"0366d6",fontStyle:"bold",token:"meta.separator"},{foreground:"0366d6",token:"meta.output"},{foreground:"ffeef0",token:"brackethighlighter.tag"},{foreground:"ffeef0",token:"brackethighlighter.curly"},{foreground:"ffeef0",token:"brackethighlighter.round"},{foreground:"ffeef0",token:"brackethighlighter.square"},{foreground:"ffeef0",token:"brackethighlighter.angle"},{foreground:"ffeef0",token:"brackethighlighter.quote"},{foreground:"d73a49",token:"brackethighlighter.unmatched"},{foreground:"d73a49",token:"sublimelinter.mark.error"},{foreground:"fb8532",token:"sublimelinter.mark.warning"},{foreground:"6a737d",token:"sublimelinter.gutter-mark"},{foreground:"79b8ff",fontStyle:"underline",token:"constant.other.reference.link"},{foreground:"79b8ff",fontStyle:"underline",token:"string.other.link"}],colors:{"editor.foreground":"#f6f8fa","editor.background":"#24292e","editor.selectionBackground":"#4c2889","editor.inactiveSelectionBackground":"#444d56","editor.lineHighlightBackground":"#444d56","editorCursor.foreground":"#ffffff","editorWhitespace.foreground":"#6a737d","editorIndentGuide.background":"#6a737d","editorIndentGuide.activeBackground":"#f6f8fa","editor.selectionHighlightBorder":"#444d56"}})},14425:function(e,t,n){"use strict";var r=n(52676),o=n(32133),a=n(25377),l=n(84875),i=n.n(l),d=n(24841);t.Z=function(e){let{className:t,error:n,description:l,refresh:s}=e,{t:u}=(0,d.$G)();return(0,r.jsx)(o.Z,{image:"/empty.png",imageStyle:{width:320,height:196,margin:"0 auto",maxWidth:"100%",maxHeight:"100%"},className:i()("flex items-center justify-center flex-col h-full w-full",t),description:n?(0,r.jsx)(a.ZP,{type:"primary",onClick:s,children:u("try_again")}):null!=l?l:u("no_data")})}},87213:function(e,t,n){"use strict";var r=n(52676),o=n(97858),a=n.n(o);t.Z=function(e){let{src:t,label:n,width:o,height:l,className:i}=e;return(0,r.jsx)(a(),{className:"w-11 h-11 rounded-full mr-4 border border-gray-200 object-contain bg-white ".concat(i),width:o||44,height:l||44,src:t,alt:n||"db-icon"})}},20346:function(e,t,n){"use strict";n.d(t,{Tk:function(){return u},PR:function(){return c}});var r,o=n(51921),a=n(9349);n(32699);var l=n(14121),i=n(2433);let d=l.default.create({baseURL:null!==(r=i.env.API_BASE_URL)&&void 0!==r?r:""});d.defaults.timeout=1e4,d.interceptors.response.use(e=>e.data,e=>Promise.reject(e));let s={"content-type":"application/json","User-Id":(0,o.n5)()},u=(e,t)=>{if(t){let n=Object.keys(t).filter(e=>void 0!==t[e]&&""!==t[e]).map(e=>"".concat(e,"=").concat(t[e])).join("&");n&&(e+="?".concat(n))}return d.get("/api"+e,{headers:s}).then(e=>e).catch(e=>{a.ZP.error(e),Promise.reject(e)})},c=(e,t)=>d.post(e,t,{headers:s}).then(e=>e).catch(e=>{a.ZP.error(e),Promise.reject(e)})},51083:function(){}}]);