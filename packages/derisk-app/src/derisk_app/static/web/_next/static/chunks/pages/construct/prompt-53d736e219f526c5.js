(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4482],{5634:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/construct/prompt",function(){return n(24503)}])},76657:function(e,t,n){"use strict";var a=n(14059);t.Z=()=>{var e;return JSON.parse(null!==(e=localStorage.getItem(a.C9))&&void 0!==e?e:"")}},39819:function(e,t,n){"use strict";var a=n(52676),o=n(65483),r=n(7888),i=n(64168),s=n(32106),l=n(37896),c=n(79260),p=n(4646),d=n(99434),u=n(71921),m=n(51568),h=n(49366),g=n(87007);n(75271),n(99959),t.Z=function(e){let{children:t}=e,n=[{key:"app",name:(0,h.t)("App"),path:"/app",icon:(0,a.jsx)(r.Z,{})},{key:"flow",name:(0,h.t)("awel_flow"),icon:(0,a.jsx)(i.Z,{}),path:"/flow"},{key:"models",name:(0,h.t)("model_manage"),path:"/models",icon:(0,a.jsx)(s.Z,{component:o.IN})},{key:"database",name:(0,h.t)("Database"),icon:(0,a.jsx)(l.Z,{}),path:"/database"},{key:"knowledge",name:(0,h.t)("Knowledge_Space"),icon:(0,a.jsx)(c.Z,{}),path:"/knowledge"},{key:"prompt",name:(0,h.t)("Prompt"),icon:(0,a.jsx)(p.Z,{}),path:"/prompt"},{key:"dbgpts",name:(0,h.t)("dbgpts_community"),path:"/dbgpts",icon:(0,a.jsx)(d.Z,{})}],f=(0,g.useRouter)(),x=f.pathname.split("/")[2];return(0,a.jsx)("div",{className:"flex flex-col h-full w-full  dark:bg-gradient-dark bg-gradient-light bg-cover bg-center",children:(0,a.jsx)(u.ZP,{theme:{components:{Button:{},Segmented:{itemSelectedBg:"#2867f5",itemSelectedColor:"white"}}},children:(0,a.jsx)(m.Z,{activeKey:x,items:n.map(e=>({key:e.key,label:e.name,children:t,icon:e.icon})),onTabClick:e=>{f.push("/construct/".concat(e))}})})})}},24503:function(e,t,n){"use strict";n.r(t);var a=n(52676),o=n(63384),r=n(76657),i=n(39819),s=n(17114),l=n(58976),c=n(2148),p=n(20173),d=n(25433),u=n(92157),m=n(87684),h=n(45443),g=n(98025),f=n(87007),x=n(75271),_=n(6821),y=n(84581),b=n.n(y);let w={zh:"中文",en:"English"},k=e=>{let{record:t,refresh:n}=e,i=(0,r.Z)(),{t:s}=(0,_.$G)(),{message:u}=c.Z.useApp(),{run:m,loading:h}=(0,l.Z)(async e=>{await (0,o.$j)({...e})},{manual:!0,onSuccess:async()=>{u.success("删除成功"),await n()}});return(null==i?void 0:i.user_id)!==(null==t?void 0:t.user_id)?null:(0,a.jsx)(p.Z,{title:"确认删除吗？",onConfirm:async()=>await m(t),children:(0,a.jsx)(d.ZP,{loading:h,children:s("Delete")})})};t.default=()=>{var e;let t=(0,f.useRouter)(),{t:n}=(0,_.$G)(),[r,c]=(0,x.useState)("common"),[p,y]=(0,x.useState)(),{run:j,loading:Z,refresh:v}=(0,l.Z)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,[n,a]=await (0,o.Vx)((0,o.xA)({page:e,page_size:t}));return a},{manual:!0,onSuccess:e=>{y(e)}});(0,x.useEffect)(()=>{j()},[r]);let N=[{value:"common",label:n("Public")+" Prompts"}];return(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{className:"px-6 py-2 ".concat(b()["prompt-container"]," md:p-6 h-[90vh] overflow-y-auto"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)(h.Z,{className:"backdrop-filter backdrop-blur-lg bg-white bg-opacity-30 border-2 border-white rounded-lg shadow p-1 dark:border-[#6f7f95] dark:bg-[#6f7f95] dark:bg-opacity-60",options:N,onChange:e=>{c(e)},value:r})}),(0,a.jsx)("div",{className:"flex items-center gap-4 h-10",children:(0,a.jsxs)(d.ZP,{className:"border-none text-white bg-button-gradient h-full",onClick:()=>{t.push("/construct/prompt/add")},icon:(0,a.jsx)(s.Z,{}),children:[n("Add")," Prompts"]})})]}),(0,a.jsx)(g.Z,{columns:(e=e=>{localStorage.setItem("edit_prompt_data",JSON.stringify(e)),t.push("/construct/prompt/edit")},[{title:n("Prompt_Info_Name"),dataIndex:"prompt_name",key:"prompt_name",width:"10%"},{title:n("Prompt_Info_Scene"),dataIndex:"chat_scene",key:"chat_scene",width:"10%"},{title:n("language"),dataIndex:"prompt_language",key:"prompt_language",render:e=>e?w[e]:"-",width:"10%"},{title:n("Prompt_Info_Content"),dataIndex:"content",key:"content",render:e=>(0,a.jsx)(u.Z.Paragraph,{ellipsis:{rows:2,tooltip:!0},children:e})},{title:n("Operation"),dataIndex:"operate",key:"operate",render:(t,o)=>(0,a.jsxs)(m.Z,{align:"center",children:[(0,a.jsx)(d.ZP,{onClick:()=>{e(o)},type:"primary",children:n("Edit")}),(0,a.jsx)(k,{record:o,refresh:v})]})}]),dataSource:(null==p?void 0:p.items)||[],loading:Z,rowKey:e=>e.prompt_name,pagination:{pageSize:6,total:null==p?void 0:p.total_count,onChange:async(e,t)=>{await j(e,t)}}})]})})}},99959:function(){},84581:function(e){e.exports={"prompt-container":"styles_prompt-container__S6dYE","prompt-operate-container":"styles_prompt-operate-container__cpqq1"}}},function(e){e.O(0,[5859,2199,6116,3847,2157,4745,4929,5443,1568,9914,9308,8025,4135,9774,2888,179],function(){return e(e.s=5634)}),_N_E=e.O()}]);